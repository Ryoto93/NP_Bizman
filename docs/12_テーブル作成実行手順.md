# テーブル作成実行手順

## 概要

`supabase-migration.sql` ファイルを作成しました。このSQLを実行してSupabaseにテーブルを作成します。

## 方法1: MCPサーバーを使用（推奨）

MCPサーバーを使ってSupabaseに直接テーブルを作成します。

### 手順

1. MCPサーバーに以下の指示を出します：

```
Supabaseプロジェクト（project_ref: fgnbfczmvsauzmzjuhpl）に、
supabase-migration.sqlファイルの内容を実行してテーブルを作成してください。
```

2. MCPサーバーがSQLを実行してテーブルを作成します。

## 方法2: SupabaseダッシュボードのSQL Editorを使用

1. Supabaseダッシュボードにアクセス
2. SQL Editor に移動
3. `supabase-migration.sql` ファイルの内容をコピー
4. SQL Editorに貼り付けて実行
5. 実行結果を確認

## 方法3: Prisma Migrateを使用（接続が確立された後）

データベース接続が確立された後、以下のコマンドでマイグレーションを実行：

```bash
npx prisma migrate deploy
```

または開発環境では：

```bash
npx prisma migrate dev
```

## テーブル作成後の確認

1. Supabaseダッシュボード > Table Editor で以下を確認：
   - 21個のテーブルが作成されていること
   - 各テーブルのカラムが正しく設定されていること
   - インデックスが作成されていること

2. 初期データの投入：
   ```bash
   npm run prisma:seed
   ```

## 作成されるテーブル一覧

1. Scenario
2. Business
3. Product
4. DealStatus
5. Customer
6. Deal
7. KPI
8. RevenueLogic
9. RevenueLogicEntry
10. BusinessPlan
11. KPIPlan
12. KPIResult
13. RevenueResult
14. BusinessCostItem
15. BusinessCostPlan
16. BusinessCostResult
17. Person
18. CorporateCostItem
19. CorporateCostPlan
20. CorporateCostResult
21. UserProfile

